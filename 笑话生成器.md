![Alt text](../../E:/pheny-blog/img/08.png)
### 12-16
#### 思考
###### 怎么完成一个笑话生成器?
#### 归纳
```
const customName = document.getElementById('customname');
const randomize = document.querySelector('.randomize');
const story = document.querySelector('.story');

```
###### 这里写三个表达式，给名字，点击笑话，笑话内容为页面的选择器

```
const storyText = "今天气温 34 摄氏度，:inserta:出去遛弯。当走到:insertb:门前时，突然就:insertc:。人们都惊呆了，李雷全程目睹但并没有慌，因为:inserta:是一个 130 公斤的胖子，天气又辣么热。";
const insertX = ["怪兽威利","大老爹","圣诞老人"];
const insertY = ["肯德基","迪士尼乐园","白宫"];
const insertZ = ["自燃了","在人行道化成了一坨泥","变成一条鼻涕虫爬走了"];
```
###### 然后写4个表达式，给纯文本字符串，人物，地点，情况分配内容

```
function randomValueFromArray(array) {
  return array[Math.floor(Math.random() * array.length)];
}

```
###### 这里通过随机数出一个下标,数组不能为空

```
randomize.addEventListener('click', result);

function result() {

  if(customName.value !== '') {
    let name = customName.value;

  }

  if(document.getElementById("american").checked) {
    let weight = Math.round(300);
    let temperature = Math.round(94);

  }

  story.textContent = ;
  story.style.visibility = 'visible';
}
```
###### 这是访问document.querySelector('.randomize').addEventListener('click', result),通过监听器，点击randomize就出story
###### 上面展示了result()函数部分代码
```
  let newStory = storyText;
  let xItem = randomValueFromArray(insertX);
  let yItem = randomValueFromArray(insertY);
  let zItem = randomValueFromArray(insertZ);
```
###### -let类型  这里用newStory演示，通过let，分配给newStory的值可更改，const则不同
```
  newStory = newStory.replace(':insertx:', xItem);
  newStory = newStory.replace(':insertx:', xItem);
  newStory = newStory.replace(':inserty:', yItem);
  newStory = newStory.replace(':insertz:', zItem); //newStroy为今天气温 34 摄氏度，大老爹出去遛弯。当走到肯德基门前时，突然就在人行道化成了一坨泥。人们都惊呆了，李雷全程目睹但并没有慌，因为大老爹是一个 130 公斤的胖子，天气又辣么热。
  newStory = newStory.replace("李雷",name);//今天气温 34 摄氏度，大老爹出去遛弯。当走到白宫门前时，突然就自燃了。人们都惊呆了，k全程目睹但并没有慌，因为大老爹是一个 130 公斤的胖子，天气又辣么热。
      newStory = newStory.replace("34",weight);
    newStory = newStory.replace("摄氏度","华氏度");
    newStory = newStory.replace("130",temperature);
    newStory = newStory.replace("公斤","磅");//今天气温 300 华氏度，怪兽威利出去遛弯。当走到肯德基门前时，突然就变成一条鼻涕虫爬走了。人们都惊呆了，李雷全程目睹但并没有慌，因为怪兽威利是一个 94 磅的胖子，天气又辣么热。
```
###### -String.prototype.replace() newStroy为被替换后的纯文本





##### html
###### `<script src="main.js" defer></script>` 这里用main.js演示 引入javascript
##### javascript
###### ```const storyText = `今天气温${temperature}摄氏度，:inserta:出去遛弯。当走到:insertb:门前时，突然就:insertc:。人们都惊呆了，李雷全程目睹但并没有慌，因为:inserta:是一个${weight}公斤的胖子，天气又辣么热。```
###### -占位符${} ,这里演示了2个占位符在字符串中的使用
###### -函数 
```
const b = a;
function r() {
  const a =1;
} 
console.log(b) //error
```
###### 这里演示一个错误例子，这里面的a重名了，实际不一样
#### 总结
###### 学会写赋值表达式